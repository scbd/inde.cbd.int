<div>
    <div class="visible-print-block">
        <span class="badge pull-left">{{indexCtrl.itemsPerPage}}</span> of <span class="badge">{{indexCtrl.count}}</span>
        <h2 style="position:absolute;top:-20px;right:10px;">Side-Events</h2>
    </div>
    <div scroll-to="top" class="hidden-md hidden-sm hidden-xs hidden-print">
        <div ani-scroll="550" class="float-button" style="padding-top:5px;">
            <i class="fa fa-arrow-circle-up" style="font-size:40px;color:white;"></i>
        </div>
    </div>

    <div scroll-to="top" class="hidden-lg hidden-xl hidden-print">
        <div ani-scroll="550" class="float-button">
            <i class="fa fa-arrow-circle-up" style="font-size:25px;color:white;position:absolute;top:3px;left:4px;"></i>
        </div>
    </div>
    <div class="alert alert-danger" ng-show="hasError()">
        <strong>Error as occured...</strong>
        <div>{{error}}</div>
    </div>

    <div class="row hidden-print">
        <div class="container-header " mobi-menu>
            <span class="container-header-name hidden-xs">
        <h1 style="display:inline;">Side-Events</h1>
      </span>
            <span class="container-header-name visible-xs">
        <h2 style="display:inline;background-color:#fff;">Side-Events</h2>
      </span>
            <div class="clearfix"></div>
        </div>

    </div>

    <div class="row">
        <br>
        <div class="alert alert-info" >
            <div class="text-center" ng-if="false">
                <!-- <h4 style="color:black;">{{indexCtrl.confObj.Title.en}}</h4></div> -->
                <h4 style="color:black;"> SBSTTA-22 / SBI-02 </h4>
                <div><p>Side-event registration for the twenty-second meeting of the Subsidiary Body on Scientific, Technical and Technological Advice (SBSTTA-22)  and the second meeting of the Subsidiary Body on Implementation (SBI-2) is now open.</p>
                    <!-- <center><p><strong> Side-event request system not yet available.</strong></p></center> -->
                      <center><p><strong>Side-event Request Deadline</strong>: 4 May 2018 23:59 EST</p></center>
                </div>
            </div>
            <div class="text-center" >
                <h4 style="color:black;"> SBSTTA-22 / SBI-02 </h4>
                <div><p>Side-event registration for the twenty-second meeting of the Subsidiary Body on Scientific, Technical and Technological Advice (SBSTTA-22)  and the second meeting of the Subsidiary Body on Implementation (SBI-2) is now closed.</p>
                      <center><p><strong>The side-event schedule will be posted shortly.  Organizers will receive an email once posted.</strong></p></center>
                </div>
            </div>
        <!-- <div class="alert alert-info">
            <div class="text-center">
                <h4 style="color:black;">{{indexCtrl.confObj.Title.en}}</h4></div>
            <div><p>Side-event registration for the Twenty-first meeting of the Subsidiary Body on Scientific, Technical and Technological Advice and Tenth meeting of the Ad Hoc Open-ended Working Group on Article 8(j) and Related Provisions of the Convention
                on Biological is now <strong>Closed</strong>.</p>
                <center><p><strong>Side-event Request Deadline</strong>: 25 October 2017 23:59 EST</p></center>
                <p><strong>Venue</strong>: Palais des Congrès de Montréal (<a href="https://www.google.ca/maps/place/Palais+des+Congr%C3%A8s+in+Montreal/@45.50386,-73.5631576,17z/data=!3m1!4b1!4m5!3m4!1s0x4cc91a5a66841509:0x6434041e124a4c53!8m2!3d45.50386!4d-73.5609689" target="_blank" rel="noopener noreferrer">Map</a>)</p>
            </div>
        </div> -->
    </div>

    <div class="row" ng-if="false">
      <div class="col-lg-6 col-lg-offset-3  col-sm-6 col-xs-12" ng-repeat="meeting in indexCtrl.confObj.meetings">

        <div class="panel" ng-class="{ 'panel-primary' : m.primary, 'panel-info' : !m.primary }">
          <div class="panel-heading  text-center text-nowrap">
            <h4 class="hidden-xs" style="color:inherit;">{{meeting.titleShort || meeting.EVT_CD}}</h4>
            <h5 class="visible-xs" style="color:inherit;">{{meeting.titleShort || meeting.EVT_CD}}</h5>
          </div>
          <div class="panel-body text-center" >
            <div class="btn-group-vertical">
              <!-- <button class="btn btn-sm btn-default" scroll-to="schedule{{$index}}" duration="1000"> Schedule</button> -->
              <!-- <button class="btn btn-sm btn-info disabled">Register a Side Event (under maintenance 2 hours)</button> -->
              <button class="btn btn-sm btn-info" ng-click="indexCtrl.goTo('/manage/events/new?meetingId='+meeting._id)">Register a Side Event</button>
              <!-- ng-click="goTo(con._id);" -->
            </div>
          </div>
          <div class="panel-footer text-right">
            <div class="text-center">{{meeting.EVT_FROM_DT | date:'dd/MM/yyyy': 'UTC' }}
              <span style=""> to </span> {{meeting.EVT_TO_DT | date:'dd/MM/yyyy':'UTC' }}</div>
          </div>
        </div>
      </div>
    </div>


    <!-- venue-->


    <div class="row" ng-if="false">
        <!-- side event schedule -->

        <style>
            @-moz-document url-prefix() {
                fieldset {
                    display: table-cell;
                }
            }
        </style>
        <div class="row hidden-print" style="padding: 0 10px 0 10px;">
            <div class="col-xs-12 text-center">
                <h3 style="background-color:#fff;">{{indexCtrl.confObj.Title.en}}</h3>
                <h5 style="background-color:#fff;">(Timezone: {{indexCtrl.confObj.timezone}})</h5>
                <hr>

            </div>
            <br>

            <div class="col-lg-4 col-md-4 col-xs-12">

                <select class="form-control" ng-model="indexCtrl.selectedTime" name="conference" ng-change="onPage(0)">
                    <option ng-repeat="docObj in indexCtrl.sideEventTimes" value="{{docObj.value}}" ng-if="docObj.value" ng-selected="docObj.value===indexCtrl.selectedTime">{{docObj.title}} </option>
                </select>
            </div>
            <div class="col-lg-4 col-md-4 col-xs-12">
                &nbsp;
            </div>
            <div class="col-lg-4 col-md-4 col-xs-12">
                <div class="input-group input-group-sm search-bs" style="width:100%">
                    <input type="test" class="form-control " ng-model="indexCtrl.search" ng-change="onPage(0)" ng-model-options="{debounce: 500}" placeholder="phrase search">
                    <span class="input-group-btn">
                    <button class="btn btn-default" type="button" ng-click="indexCtrl.search='';"><i class="fa fa-search" ng-if="!indexCtrl.search"></i><i class="fa fa-times" ng-if="indexCtrl.search" ></i></button>
                </span>
                </div>

                <span class="pull-right pointer" ng-if="!indexCtrl.advanced"><a ng-src="#" ng-click="indexCtrl.toggleAdvanced()"><i class="fa fa-search"></i> Advanced Search</a></span>
                <span class="pull-right pointer" ng-if="indexCtrl.advanced"><a ng-src="#" ng-click="indexCtrl.toggleAdvanced()"><i class="fa fa-times"></i> </a></span>
            </div>
        </div>
        <div class="row hidden-print" ng-hide="!indexCtrl.advanced" style="padding: 0 10px 0 10px;">
            <br>
            <!-- <div class="col-lg-3 col-md-3 col-xs-12">
                <select class="form-control" ng-model="indexCtrl.conference" name="conference" ng-change="onPage(0)">
                    <option ng-repeat="docObj in indexCtrl.conferences" value="{{docObj._id}}" ng-if="indexCtrl.isPastConfrence(docObj._id)" ng-selected="docObj.selected">{{docObj.Title.en}} </option>
                </select>
            </div>
            <div class="col-lg-4 col-md-4 col-xs-12 hidden-print">

                &nbsp;

            </div> -->
            <div class="col-xs-12 hidden-print">
                <ui-select multiple ng-model="indexCtrl.hostOrgsSelected" close-on-select="true" append-to-body="true" title=" " spinner-enabled="true">
                    <ui-select-match placeholder="Host Party or Org. Search">{{$item.acronym || $item.title}}</ui-select-match>
                    <ui-select-choices minimum-input-length="3" style="width:100%;" position="down" repeat="org._id as org in indexCtrl.allOrgs | propsFilter: {title: $select.search, acronym: $select.search}">
                        <div>
                            <hr style="margin: 0 0 0 0;">
                            <small>
                          <span class="text-nowrap">
                              <span  style="padding:0px 0px 0px 1px; vertical-align:middle;"> [{{org.acronym || org.code}}] {{org.title || org.name}} </span>
                            </span>
                      </small>
                        </div>
                    </ui-select-choices>
                </ui-select>


            </div>

        </div>
        <hr class="hidden-print">

        <div style="margin-top:6px;">
            <!-- <div class="col-xs-12 col-lg-6">
          <span style="padding-left:17px;">Showing
            <span class="badge">{{filtered.length}}</span> Side Events</span>
        </div> -->
            <!-- <div class="col-xs-12  col-md-6 col-lg-6" style="padding-right:17px;">
          <span class="text-right" style="padding-right:17px;">
            <span class="badge">{{filtered.length}}</span> Side Events in Total</span>
        </div> -->
            <pagination class="hidden-print" pages="indexCtrl.pages" page-count="5" current-page="indexCtrl.currentPage" items-per-page="indexCtrl.itemsPerPage" filtered="filtered" search="indexCtrl.search" pages="indexCtrl.pages" on-page="indexCtrl.onPage(pageIndex)"
                count="indexCtrl.count">
            </pagination>

        </div>
        <table class="table table-hover table-striped" style="margin-top:10px;">
            <thead>
                <tr class="info">
                    <th width="5%">ID</th>
                    <th width="20%">Date / Room / Location</th>
                    <!-- <th>Location</th> -->
                    <th width="75%">Title / Description / Host Organizations

                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="doc in filtered = (indexCtrl.reservations  ) track by $index">
                    <!--  -->
                    <td style="cursor:pointer;" nowrap>#{{doc.sideEvent.id}}

                    </td>
                    <td style="cursor:pointer;">{{doc.dayOfWeek}} {{doc.start | momentTZ:indexCtrl.confObj.timezone:'format':'dddd'}} {{doc.start | momentTZ:indexCtrl.confObj.timezone:'format':'YYYY.MM.DD'}} at {{doc.start | momentTZ:indexCtrl.confObj.timezone:'format':'HH:mm'}}<br>
                        <a href="#" ng-click="indexCtrl.calDialog(doc)" style="cursor:pointer;" tool-tip data-placement="top" data-original-title="Add to your calendar"><i  class="fa fa-calendar-plus-o fa-1x hidden-print" aria-hidden="true"  ></i> Add to Calendar</a>

                        <hr style="margin: 5px 0 5px 0;"> {{indexCtrl.roomDisplay(doc.location.room,'title')}}
                        <hr style="margin: 5px 0 5px 0;"> {{indexCtrl.roomDisplay(doc.location.room,'location')}}
                        <hr style="margin: 5px 0 5px 0;" class="hidden-print">
                        <share doc="doc.sideEvent" class="hidden-print"></share>
                    </td>
                    <!-- <td style="cursor:pointer;" nowrap>
              <strong>{{doc.room.title}}</strong>
              <br>{{doc.room.location}}</td>-->
                    <td>
                        <span><a href="{{doc.sideEvent.id}}">{{doc.sideEvent.title || doc.title}}</a></span>
                        <br>
                        <hr style="margin: 5px 0 5px 0;" ng-if="doc.sideEvent.description">
                        <div class="row">
                            <div ng-class="{'col-xs-8':indexCtrl.hasImage(doc.sideEvent.logo),'col-xs-12':!indexCtrl.hasImage(doc.sideEvent.logo)}">
                                <span ng-if="doc.sideEvent.description">
                {{doc.sideEvent.description | htmlToPlaintext | truncate:(doc.truncate||425):' ...' }}
                <a ng-hide="doc.truncate || (doc.sideEvent.description | htmlToPlaintext ).length<=425" href="#" ng-click="doc.truncate=100000">more <i class="fa fa-caret-down"></i></a>
                <a ng-show="doc.truncate" href="#" ng-click="doc.truncate=undefined">less <i class="fa fa-caret-up"></i></a></p>
              </span>
                            </div>
                            <div class="col-xs-4 text-center" ng-if="indexCtrl.hasImage(doc.sideEvent.logo)">
                                <img ng-src="{{doc.sideEvent.logo}}" style="max-width:100%;">
                            </div>
                        </div>
                        <hr style="margin: 5px 0 5px 0;">
                        <div class="col-xs-12">

                            <div class="relative">
                                <span class="hidden-md hidden-sm hidden-xs relative" ng-repeat="org in doc.orgs track by $index" style="margin:0 2px 0 0;">
                                <span class="cir" style="position:relative;">
                                  <img ng-src="app/images/ic_business_black_48px.svg" style="vertical-align:middle;" ng-if="org.logo.length>0" />
                                  <!-- <scbd-icon-button type="md" icon-name="&#xE872;" ng-if="!org.logo"></scbd-icon-button> -->

                                </span>
                                <i ng-if="org._id.length===2" class="flag-icon flag-icon-{{org._id}}" style="width:20px;height:13.5px;margin-bottom:5px;"></i>
                                <span style="padding:0px 10px px 0px 1px; vertical-align:middle;"> {{org.acronym || org.name.en}} <span ng-hide="$last">|</span></span>
                                </span>
                                <span class="pull-right">

                                <span ng-repeat="subj in doc.sideEvent.targets" >
                                  <a ng-href="{{indexCtrl.aichiLink(subj)}}"><img ng-src="{{indexCtrl.aichiImgLink(subj)}}" style="height:20px"></img></a>
                                </span>
                                <!-- <span class="pull-right" ng-if="!doc.sideEvent.targets.length" style="color:red;">No Aichi Biodiversity Targets Linked</span> -->




                            </div>
                        </div>
                    </td>
                </tr>


            </tbody>
        </table>
        <div style="margin-top:6px;">
            <pagination pages="indexCtrl.pages" page-count="5" current-page="indexCtrl.currentPage" items-per-page="indexCtrl.itemsPerPage" filtered="filtered" search="indexCtrl.search" pages="indexCtrl.pages" on-page="indexCtrl.onPage(pageIndex)" count="indexCtrl.count">
            </pagination>
        </div>
    </div>
    <div class="row hidden-print" id="rooms" ng-show="rooms.length">
        <div class="col-xs-12 text-center">
            <h3 style="background-color:#fff;">Rooms</h3>
            <h5 style="background-color:#fff;">({{indexCtrl.venueObj.title}})</h5>
            <hr>
        </div>
    </div>
    <room-table class="hidden-print" conf-obj="indexCtrl.confObj" ng-show="rooms.length"> </room-table>

</div>
